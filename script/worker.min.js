import{GIFEncoder as e,applyPalette as t}from"/gifenc/dist/gifenc.esm.js";let s;self.addEventListener("message",(a=>{const n=a.data;if("init"===n.event)return s={...n},void self.postMessage("ready");const[r,i]=n,f=t(r,s.palette,s.format),l=e({auto:!1});l.writeFrame(f,s.width,s.height,{first:0===i,delay:s.delay,palette:0===i?s.palette:null,transparent:!0,transparentIndex:0});const d=l.bytesView();self.postMessage([d,i],[d.buffer])}));